# ç»Ÿä¸€å­˜å‚¨ä¸å¯†ç ä¿æŠ¤æŒ‡å—

## ğŸ¯ ç›®æ ‡

å°†æ•°æ®å­˜å‚¨ä»æµè§ˆå™¨çš„ localStorageï¼ˆæ¯ä¸ªæµè§ˆå™¨/IP ç‹¬ç«‹å­˜å‚¨ï¼‰è¿ç§»åˆ°æœåŠ¡å™¨ç«¯ç»Ÿä¸€å­˜å‚¨ï¼Œå¹¶é€šè¿‡å¯†ç ä¿æŠ¤å®ç°è®¿é—®æ§åˆ¶ã€‚

## âœ¨ æ ¸å¿ƒæ”¹è¿›

### ä¹‹å‰çš„é—®é¢˜
- ğŸ“± ä¸åŒæµè§ˆå™¨æœ‰ç‹¬ç«‹çš„ localStorage
- ğŸŒ ä¸åŒ IP åœ°å€è®¿é—®ä¼šè·å¾—ä¸åŒçš„æ•°æ®
- âŒ å¤šè®¾å¤‡/ç”¨æˆ·æ— æ³•å…±äº«æ•°æ®

### ç°åœ¨çš„è§£å†³æ–¹æ¡ˆ
- âœ… æ‰€æœ‰ç”¨æˆ·å…±äº«åŒä¸€ä¸ªæ•°æ®æº
- âœ… é€šè¿‡å¯†ç ä¿æŠ¤æ•æ„Ÿæ•°æ®
- âœ… æ”¯æŒå¤šè®¾å¤‡è®¿é—®å’Œåä½œ
- âœ… ä¾¿äºæ•°æ®å¤‡ä»½å’Œç®¡ç†

## ğŸ” å¯†ç ä¿æŠ¤

### é…ç½®å¯†ç 

#### å¼€å‘ç¯å¢ƒ
åˆ›å»ºæˆ–ç¼–è¾‘ `.env.local` æ–‡ä»¶ï¼š
```bash
PASSWORD=your-secure-password-here
```

#### ç”Ÿäº§ç¯å¢ƒ
è®¾ç½®ç¯å¢ƒå˜é‡ï¼š
```bash
export PASSWORD=your-production-password
```

**é»˜è®¤å€¼**: å¦‚æœä¸è®¾ç½®ï¼Œé»˜è®¤å¯†ç ä¸º `default-password`

### ä½¿ç”¨æµç¨‹

1. **é¦–æ¬¡è®¿é—®**
   - é¡µé¢åŠ è½½æ—¶æ˜¾ç¤ºå¯†ç è¾“å…¥æ¡†
   - è¾“å…¥æ­£ç¡®çš„å¯†ç 
   - å¯†ç éªŒè¯é€šè¿‡åè‡ªåŠ¨åŠ è½½æ•°æ®

2. **åç»­è®¿é—®**
   - å¯†ç ä¿å­˜åœ¨å½“å‰æµè§ˆå™¨ä¼šè¯çš„ sessionStorage ä¸­
   - åŒä¸€æµè§ˆå™¨çª—å£å…³é—­å‰æ— éœ€é‡æ–°è¾“å…¥
   - æ‰“å¼€æ–°çª—å£/æ ‡ç­¾é¡µä»éœ€è¾“å…¥å¯†ç 

3. **é€€å‡ºç™»å½•**
   - ç‚¹å‡»å³ä¸Šè§’çš„"é€€å‡ºç™»å½•"æŒ‰é’®
   - æ¸…é™¤ä¼šè¯å¯†ç 
   - éœ€è¦é‡æ–°è¾“å…¥å¯†ç æ‰èƒ½ç»§ç»­ä½¿ç”¨

## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. åˆå§‹åŒ–å­˜å‚¨ï¼ˆå¯é€‰ï¼Œå¯åŠ¨æ—¶è‡ªåŠ¨æ‰§è¡Œï¼‰
```bash
npm run init
```

### 2. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
```bash
npm run dev
```

### 3. è®¿é—®åº”ç”¨
- æ‰“å¼€æµè§ˆå™¨è®¿é—® `http://localhost:3000`
- è¾“å…¥å¯†ç ï¼ˆé»˜è®¤: `admin123`ï¼‰
- å¼€å§‹ä½¿ç”¨

### 4. ç”Ÿäº§ç¯å¢ƒéƒ¨ç½²
```bash
npm run build
npm start
```

## ğŸ“ æ•°æ®å­˜å‚¨ä½ç½®

æ‰€æœ‰æ•°æ®éƒ½å­˜å‚¨åœ¨æœåŠ¡å™¨ç«¯çš„ JSON æ–‡ä»¶ä¸­ï¼š
```
/home/engine/project/data/dashboard.json
```

è¯¥æ–‡ä»¶ä¼šè‡ªåŠ¨åˆ›å»ºï¼ŒåŒ…å«ï¼š
- èƒŒæ™¯å›¾ç‰‡ URL
- åˆ†ç±»åˆ—è¡¨
- æ¯ä¸ªåˆ†ç±»ä¸‹çš„ç½‘ç«™å¡ç‰‡

## ğŸ”„ æ•°æ®æµ

### æ•°æ®åŠ è½½
```
ç”¨æˆ·æ‰“å¼€åº”ç”¨
  â†“
æ£€æŸ¥ä¼šè¯ä¸­æ˜¯å¦æœ‰å¯†ç 
  â†“
æœ‰å¯†ç  â”€â”€â†’ ç›´æ¥åŠ è½½æ•°æ®
  â†“
æ— å¯†ç  â”€â”€â†’ æ˜¾ç¤ºå¯†ç è¾“å…¥æ¡†
  â†“
ç”¨æˆ·è¾“å…¥å¯†ç 
  â†“
å‘æœåŠ¡å™¨éªŒè¯å¯†ç  (GET /api/data?password=xxx)
  â†“
éªŒè¯é€šè¿‡ â”€â”€â†’ åŠ è½½æ•°æ®ï¼Œä¿å­˜ä¼šè¯
  â†“
éªŒè¯å¤±è´¥ â”€â”€â†’ æ˜¾ç¤ºé”™è¯¯ï¼Œè¦æ±‚é‡æ–°è¾“å…¥
```

### æ•°æ®ä¿å­˜
```
ç”¨æˆ·ä¿®æ”¹æ•°æ® (æ·»åŠ åˆ†ç±»/å¡ç‰‡/æ›´æ–°èƒŒæ™¯)
  â†“
æ•°æ®å‹ç¼©å¤„ç†
  â†“
é€šè¿‡ API ä¸Šä¼  (POST /api/data)
  â†“
æœåŠ¡å™¨éªŒè¯å¯†ç 
  â†“
å¯†ç æ­£ç¡® â”€â”€â†’ ä¿å­˜æ•°æ®ï¼Œè¿”å›æˆåŠŸ
  â†“
å¯†ç é”™è¯¯ â”€â”€â†’ è¿”å› 401 é”™è¯¯ï¼Œæ¸…é™¤ä¼šè¯
```

## ğŸ› ï¸ API æ–‡æ¡£

### GET /api/data
è·å–æ‰€æœ‰æ•°æ®

**å‚æ•°**:
- `password` (query string) - è®¿é—®å¯†ç 

**è¯·æ±‚ç¤ºä¾‹**:
```bash
curl "http://localhost:3000/api/data?password=admin123"
```

**æˆåŠŸå“åº”** (200):
```json
{
  "background": "https://...",
  "categories": [...]
}
```

**å¯†ç é”™è¯¯å“åº”** (401):
```json
{ "error": "å¯†ç é”™è¯¯" }
```

### POST /api/data
ä¿å­˜æ•°æ®

**è¯·æ±‚ä½“**:
```json
{
  "password": "admin123",
  "data": {
    "background": "https://...",
    "categories": [...]
  }
}
```

**æˆåŠŸå“åº”** (200):
```json
{ "success": true }
```

**å¯†ç é”™è¯¯å“åº”** (401):
```json
{ "error": "å¯†ç é”™è¯¯" }
```

## ğŸ“± UI ç»„ä»¶

### PasswordModal ç»„ä»¶
æ˜¾ç¤ºå¯†ç è¾“å…¥å¯¹è¯æ¡†ï¼Œä½ç½®: `src/components/PasswordModal.js`

åŠŸèƒ½:
- å¯†ç è¾“å…¥å­—æ®µ
- é”™è¯¯æç¤º
- æ”¯æŒ Enter é”®å¿«é€Ÿæäº¤
- åŠ è½½çŠ¶æ€æŒ‡ç¤º

### Dashboard ç»„ä»¶æ›´æ–°
ä½ç½®: `src/components/Dashboard.js`

æ”¹åŠ¨:
- æ·»åŠ èº«ä»½éªŒè¯æµç¨‹
- é›†æˆ API è°ƒç”¨
- æ·»åŠ "é€€å‡ºç™»å½•"æŒ‰é’®
- æ˜¾ç¤ºåŠ è½½å’Œä¿å­˜çŠ¶æ€

## ğŸ“š API å·¥å…·å‡½æ•°

ä½ç½®: `src/utils/api.js`

å¯ç”¨å‡½æ•°:
```javascript
// è·å–ä¼šè¯ä¸­çš„å¯†ç 
getPassword()

// ä¿å­˜å¯†ç åˆ°ä¼šè¯
setPassword(password)

// æ¸…é™¤ä¼šè¯å¯†ç 
clearPassword()

// è·å–æ•°æ®
fetchData(password)

// ä¿å­˜æ•°æ®
saveDataToServer(data, password)
```

## ğŸ”’ å®‰å…¨ç‰¹æ€§

1. **å¯†ç éªŒè¯**: æ‰€æœ‰æ“ä½œéƒ½éœ€è¦å¯†ç 
2. **ä¼šè¯éš”ç¦»**: å¯†ç ä»…ä¿å­˜åœ¨å½“å‰ä¼šè¯
3. **è‡ªåŠ¨æ¸…é™¤**: å¯†ç é”™è¯¯æ—¶è‡ªåŠ¨æ¸…é™¤ä¼šè¯
4. **ç¯å¢ƒå˜é‡**: å¯†ç ä¸ç¡¬ç¼–ç ï¼Œé€šè¿‡ç¯å¢ƒå˜é‡é…ç½®
5. **HTTPS å»ºè®®**: ç”Ÿäº§ç¯å¢ƒå»ºè®®ä½¿ç”¨ HTTPS ä¿æŠ¤å¯†ç ä¼ è¾“

## âš™ï¸ é…ç½®æ–‡ä»¶

### .env.local (å¼€å‘ç¯å¢ƒ)
```bash
PASSWORD=your-development-password
```

### .env.example (ç¤ºä¾‹)
```bash
PASSWORD=your-secure-password-here
```

### .gitignore (ç‰ˆæœ¬æ§åˆ¶)
å·²æ·»åŠ :
```
/data/
.env.local
.env
```

## ğŸ› æ•…éšœæ’é™¤

### é—®é¢˜: å¯†ç å§‹ç»ˆæ˜¾ç¤ºé”™è¯¯
**åŸå› **: `.env.local` ä¸­çš„å¯†ç è®¾ç½®ä¸å¯¹

**è§£å†³æ–¹æ¡ˆ**:
```bash
# æ£€æŸ¥ .env.local
cat .env.local

# ç¡®ä¿æ ¼å¼æ­£ç¡®
PASSWORD=your-password

# é‡å¯æœåŠ¡å™¨
npm run dev
```

### é—®é¢˜: æ•°æ®æ— æ³•ä¿å­˜
**åŸå› **: å¯èƒ½æ˜¯å¯†ç é”™è¯¯æˆ–æœåŠ¡å™¨æƒé™é—®é¢˜

**è§£å†³æ–¹æ¡ˆ**:
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°çš„é”™è¯¯ä¿¡æ¯
2. æ£€æŸ¥æœåŠ¡å™¨æ—¥å¿—
3. ç¡®ä¿ `/data` ç›®å½•å­˜åœ¨ä¸”æœ‰å†™å…¥æƒé™
4. å°è¯•é€€å‡ºç™»å½•åé‡æ–°ç™»å½•

### é—®é¢˜: æ‰¾ä¸åˆ°æ•°æ®æ–‡ä»¶
**åŸå› **: æ•°æ®ç›®å½•æœªåˆ›å»º

**è§£å†³æ–¹æ¡ˆ**:
```bash
npm run init
```

### é—®é¢˜: sessionStorage ä¸­çš„å¯†ç è¿‡æœŸ
**åŸå› **: è¿™æ˜¯æ­£å¸¸çš„æµè§ˆå™¨è¡Œä¸º

**è§£å†³æ–¹æ¡ˆ**: é‡æ–°è¾“å…¥å¯†ç å³å¯

## ğŸ“Š æ•°æ®å‹ç¼©

æ•°æ®è‡ªåŠ¨ä½¿ç”¨ç°æœ‰çš„å‹ç¼©æœºåˆ¶ï¼š
- å­—æ®µåç¼©å†™ (background â†’ b, categories â†’ c ç­‰)
- æ ‡å‡† favicon ä¸å­˜å‚¨ï¼Œè‡ªåŠ¨ç”Ÿæˆ
- å¹³å‡å‹ç¼©ç‡: 40-50%

è¯¦è§ `COMPRESSION_DEMO.md`

## ğŸ”„ å‘åå…¼å®¹

- æ—§çš„ localStorage æ•°æ®ä»å¯å…¼å®¹
- é¦–æ¬¡è®¿é—®æ—¶è‡ªåŠ¨è¿ç§»
- ç”¨æˆ·æ•°æ®ä¸ä¼šä¸¢å¤±

## ğŸ“ è„šæœ¬å‘½ä»¤

```bash
# åˆå§‹åŒ–å­˜å‚¨
npm run init

# å¼€å‘ç¯å¢ƒ
npm run dev

# æ„å»º
npm run build

# ç”Ÿäº§ç¯å¢ƒ
npm start

# ä»£ç æ£€æŸ¥
npm run lint
```

## ğŸŒŸ æœ€ä½³å®è·µ

### å¼€å‘ç¯å¢ƒ
```bash
# 1. é…ç½®å¯†ç 
echo "PASSWORD=dev123" > .env.local

# 2. å¯åŠ¨æœåŠ¡
npm run dev

# 3. æµ‹è¯•æ•°æ®æ“ä½œ
# - æ·»åŠ åˆ†ç±»
# - æ·»åŠ ç½‘ç«™
# - ä¿®æ”¹èƒŒæ™¯
# - é€€å‡ºç™»å½•
# - é‡æ–°ç™»å½•
```

### ç”Ÿäº§ç¯å¢ƒ
```bash
# 1. è®¾ç½®å¼ºå¯†ç 
export PASSWORD=$(openssl rand -base64 32)

# 2. æ„å»ºåº”ç”¨
npm run build

# 3. å¯åŠ¨æœåŠ¡
npm start

# 4. å®šæœŸå¤‡ä»½æ•°æ®
cp data/dashboard.json data/dashboard.json.backup
```

## ğŸ“ æŠ€æœ¯æ”¯æŒ

å¯¹äºæŠ€æœ¯é—®é¢˜ï¼Œè¯·å‚è€ƒï¼š
- `SERVER_STORAGE.md` - è¯¦ç»†çš„æ¶æ„æ–‡æ¡£
- `STORAGE_LOGIC.md` - å­˜å‚¨é€»è¾‘è¯´æ˜
- `src/app/api/data/route.js` - API å®ç°
- `src/components/PasswordModal.js` - å¯†ç ç»„ä»¶

## ğŸ“„ è®¸å¯è¯

è¯¦è§é¡¹ç›®æ ¹ç›®å½•çš„ LICENSE æ–‡ä»¶
